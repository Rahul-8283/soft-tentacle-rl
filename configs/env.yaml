# ==============================================================================
# ENVIRONMENT CONFIGURATION - Soft Robotic Tentacle RL
# ==============================================================================
# This file contains all tunable parameters for the Gym environment.
# Modify these values to experiment with different settings.
# ==============================================================================

# ------------------------------------------------------------------------------
# MODEL CONFIGURATION
# ------------------------------------------------------------------------------
model:
  # Path to MuJoCo XML model (relative to project root)
  # CURRENT: spiral_5link.xml (5 joints, planar motion, Y-axis rotation)
  # FUTURE:  Change to "models/tentacle.xml" for 3D motion (10 joints)
  xml_path: "models/spiral_5link.xml"
  
  # Number of simulation steps per environment step
  # Higher = more accurate physics, slower training
  frame_skip: 5
  
  # Simulation timestep (should match XML file)
  timestep: 0.002

# ------------------------------------------------------------------------------
# ACTION SPACE CONFIGURATION
# ------------------------------------------------------------------------------
action:
  # Number of actuators/motors
  # CURRENT: 5 (spiral_5link.xml - one motor per joint)
  # FUTURE:  Change to 10 for tentacle.xml (2 motors per segment: pitch + yaw)
  num_actuators: 5
  
  # Control range (normalized)
  low: -1.0
  high: 1.0

# ------------------------------------------------------------------------------
# OBSERVATION SPACE CONFIGURATION
# ------------------------------------------------------------------------------
observation:
  # Include joint positions in observation
  include_joint_pos: true
  
  # Include joint velocities in observation
  include_joint_vel: true
  
  # Include tip (end effector) position
  include_tip_pos: true
  
  # Include target position
  include_target_pos: true
  
  # Include distance to target
  include_distance: true
  
  # Include previous action (for smoothness)
  include_prev_action: true

# ------------------------------------------------------------------------------
# TARGET CONFIGURATION
# ------------------------------------------------------------------------------
target:
  # Target generation mode: "fixed", "random", "curriculum"
  mode: "random"
  
  # Fixed target position (used when mode="fixed")
  fixed_position: [0.3, 0.0, 0.8]
  
  # Random target bounds (used when mode="random")
  # These define a box where random targets are sampled
  random_bounds:
    x_min: -0.5
    x_max: 0.5
    y_min: -0.3  # For planar (spiral_5link), keep y close to 0
    y_max: 0.3
    z_min: 0.3
    z_max: 1.2
  
  # Success threshold - distance to target considered "reached"
  success_threshold: 0.05  # 5 cm

# ------------------------------------------------------------------------------
# EPISODE CONFIGURATION
# ------------------------------------------------------------------------------
episode:
  # Maximum steps per episode
  max_steps: 500
  
  # Whether to terminate on success
  terminate_on_success: true
  
  # Whether to terminate on collision/instability
  terminate_on_failure: true

# ------------------------------------------------------------------------------
# REWARD CONFIGURATION
# ------------------------------------------------------------------------------
# Reward = w_distance * r_distance + w_success * r_success + w_smooth * r_smooth + ...
reward:
  # Distance reward weight (negative distance to target)
  weight_distance: 1.0
  
  # Success bonus (reaching target)
  weight_success: 10.0
  bonus_success: 100.0
  
  # Smoothness penalty (penalize jerky actions)
  weight_smoothness: 0.1
  
  # Energy penalty (penalize large control signals)
  weight_energy: 0.01
  
  # Alive bonus (small reward for each step)
  weight_alive: 0.0
  
  # Use shaped reward (dense) vs sparse reward
  use_shaped_reward: true

# ------------------------------------------------------------------------------
# RENDERING CONFIGURATION
# ------------------------------------------------------------------------------
render:
  # Render mode: "human", "rgb_array", None
  default_mode: null
  
  # Camera settings
  camera:
    distance: 2.0
    azimuth: 45
    elevation: -20
    lookat: [0, 0, 0.6]
  
  # Window size for human rendering
  width: 1280
  height: 720

# ------------------------------------------------------------------------------
# RANDOMIZATION (for robust training)
# ------------------------------------------------------------------------------
randomization:
  # Randomize initial joint positions
  randomize_init_pos: true
  init_pos_range: 0.1  # Â±0.1 radians from zero
  
  # Randomize initial joint velocities
  randomize_init_vel: false
  init_vel_range: 0.05
  
  # Domain randomization (advanced - for sim2real)
  domain_randomization: false
